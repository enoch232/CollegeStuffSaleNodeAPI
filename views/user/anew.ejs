<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="assets/ico/favicon.png">
    <title>CollegeStuffSale</title>
    <!-- Bootstrap core CSS -->
    <link href="assets/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- styles needed for carousel slider -->
    <!-- <link href="assets/css/owl.carousel.css" rel="stylesheet"> -->
    <link href="assets/css/owl.theme.css" rel="stylesheet">
    <link href="assets/css/help-tip.css" rel="stylesheet">
    <script src="scripts/whatwg-fetch/fetch.js"></script>
    <script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>
    <script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
    <!-- Just for debugging purposes. -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- include pace script for automatic web page progress bar  -->

    <script>
        paceOptions = {
            elements: true
        };
    </script>
    <script src="assets/js/pace.min.js"></script>
</head>
<body>
<div id="wrapper">
    <div class="header">
        <nav class="navbar   navbar-site navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
                        <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span>
                        <span class="icon-bar"></span> <span class="icon-bar"></span>
                    </button>
                    <a href="index-v-2.html" class="navbar-brand logo logo-title">
                        <!-- Original Logo will be placed here  -->
                        <span class="logo-icon">
                            <i class="icon icon-search-1 ln-shadow-logo shape-0">
                            </i>
                        </span>College<span>StuffSale</span>
                    </a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="login.html">Login</a></li>
                        <li><a href="signup.html">Signup</a></li>
                        <li class="postadd">
                            <a class="btn btn-block btn-border btn-post btn-danger" href="post-ads.html">Post New Item</a>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
            <!-- /.container-fluid -->
        </nav>
    </div>
    <!-- /.header -->

    <div class="main-container">
        <div class="container">
            <div class="row">
                <div class="col-md-8 page-content">
                    <div class="inner-box category-content">
                        <h2 class="title-2"><i class="icon-user-add"></i> Create a free account </h2>
                        <div class="row">
                            <div class="col-sm-12" id = "sign-up-form">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.page-content -->
                
                <div class="col-md-4 reg-sidebar">
                    <div class="reg-sidebar-inner text-center">
                        <div class="promo-text-box"><i class=" icon-picture fa fa-4x icon-color-1"></i>

                            <h3><strong>Post a Free Classified</strong></h3>

                            <p> Post your free online classified ads with us. Lorem ipsum dolor sit amet, consectetur
                                adipiscing elit. </p>
                        </div>
                        <div class="promo-text-box"><i class=" icon-pencil-circled fa fa-4x icon-color-2"></i>

                            <h3><strong>Create and Manage Items</strong></h3>

                            <p> Nam sit amet dui vel orci venenatis ullamcorper eget in lacus.
                                Praesent tristique elit pharetra magna efficitur laoreet.</p>
                        </div>
                        <div class="promo-text-box"><i class="  icon-heart-2 fa fa-4x icon-color-3"></i>

                            <h3><strong>Create your Favorite ads list.</strong></h3>

                            <p> PostNullam quis orci ut ipsum mollis malesuada varius eget metus.
                                Nulla aliquet dui sed quam iaculis, ut finibus massa tincidunt.</p>
                        </div>
                        
                    </div>
                </div>
            </div>
        
            <!-- /.row -->
        </div>
        <!-- /.container -->
    </div>
    <!-- /.main-container -->
    <div class="footer" id="footer">
        <div class="container">
            <ul class=" pull-left navbar-link footer-nav">
                <li>
                    <a href="/">
                        Home
                    </a>
                    <a href="/aboutus">
                        About us
                    </a>
                    <a href="/terms">
                        Terms and Conditions
                    </a>
                    <a href="/privacypolicy">
                        Privacy Policy
                    </a>
                    <a href="/contact">
                        Contact us
                    </a>
                    <a href="/faq">
                        FAQ
                    </a>
                </li>
            </ul>
            <ul class=" pull-right navbar-link footer-nav">
                <li> &copy; 2016 CollegeStuffSale</li>
            </ul>
        </div>

    </div>
    <!--/.footer-->
</div>
<!-- /.wrapper --> <!-- Le javascript
================================================== -->

<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>

<!-- include carousel slider plugin  -->
<script src="assets/js/owl.carousel.min.js"></script>

<!-- include equal height plugin  -->
<script src="assets/js/jquery.matchHeight-min.js"></script>

<!-- include jquery list shorting plugin plugin  -->
<script src="assets/js/hideMaxListItem.js"></script>

<!-- include jquery.fs plugin for custom scroller and selecter  -->
<script src="assets/plugins/jquery.fs.scroller/jquery.fs.scroller.js"></script>
<script src="assets/plugins/jquery.fs.selecter/jquery.fs.selecter.js"></script>
<!-- include custom script for site  -->
<script src="assets/js/script.js"></script>

<script type = "text/babel">
class SignUpForm extends React.Component{
  constructor(props){
    super(props)
    this.state = {
      firstName: "",
      lastName: "",
      email: "",
      phoneNumber: "",
      hideNumber: false,
      gender: 0, //0 is male, 1 is female
      bio: "",
      password: "",
      passwordConfirmation: "",
      readTermsConditions: 0
    }
  }

  _registerUser(){
    return fetch('http://localhost:3000/api/users', {
      method: 'POST',
      headers: {
        'Accept':"application/json",
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        user:{
            name: (this.state.firstName + " "+ this.state.lastName),
            email: this.state.email,
            bio: this.state.bio,
            phone_number: this.state.phoneNumber,
            gender: !this.state.gender ? "male" : "female",
            hideNumber: this.state.hideNumber,
            password: this.state.password,
            password_confirmation: this.state.passwordConfirmation
          }
      })
    })
    .then((response) => {
      return response.json()
    })
    .then((responseJson)=>{
      if (responseJson.access_token){
        window.location = "./account-home.html"
      }else{
        console.log(responseJson)
      }
    })
    .catch((error) => {
      console.error(error)
    })


  }
  render(){
    return (
      <form className="form-horizontal">
        <fieldset>
          {/* Text input*/}
          <div className="form-group required">
            <label className="col-md-4 control-label">
              First Name <sup>*</sup>
            </label>
            <div className="col-md-6">
              <input name placeholder="First Name" className="form-control input-md" required type="text" value = {this.state.firstName} onChange = {(event) => this.setState({firstName: event.target.value.substr(0,40)})} />
            </div>
          </div>
          {/* Text input*/}
          <div className="form-group required">
            <label className="col-md-4 control-label">Last Name <sup>*</sup></label>
            <div className="col-md-6">
              <input name="textinput" placeholder="Last Name" className="form-control input-md" type="text"  value = {this.state.lastName} onChange = {(event)=>{this.setState({lastName: event.target.value.substr(0,40)})}}/>
            </div>
          </div>
          {/* Text input*/}
          <div className="form-group required">
            <label htmlFor="inputEmail3" className="col-md-4 control-label">
              Email <sup>*</sup>
            </label>
            <div className="col-md-6">
              <input type="email" className="form-control" id="inputEmail3" placeholder="Email"  value = {this.state.email} onChange = {(event)=>{this.setState({email: event.target.value.substr(0,140)})}}/>
            </div>
          </div>
          {/* Text input*/}
          <div className="form-group required">
            <label className="col-md-4 control-label">Phone Number </label>
            <div className="col-md-6">
              <input name="textinput" placeholder="Phone Number" className="form-control input-md" type="text"  value = {this.state.phoneNumber} onChange = {(event)=>{this.setState({phoneNumber: event.target.value.substr(0,16)})}}/>
              <div className="checkbox">
                <label>
                  <input type="checkbox" checked ={this.state.hideNumber} onChange = {()=>{this.setState({hideNumber: !this.state.hideNumber})}}/>
                  <small> Hide the phone number on the published ads.</small>
                </label>
              </div>
            </div>
            <div className="col-md-1">
              <div className = "help-tip"><p>Phone number is needed to let other users contact you.</p></div>
            </div>
          </div>
          {/* Multiple Radios */}
          <div className="form-group">
            <label className="col-md-4 control-label">Gender</label>
            <div className="col-md-6">
              <div className="radio">
                <label htmlFor="Gender-0">
                  <input name="Gender" id="Gender-0" type="radio" checked = {!this.state.gender} onChange = {()=>{this.setState({gender: !this.state.gender})}}/>
                  Male 
                </label>
              </div>
              <div className="radio">
                <label htmlFor="Gender-1">
                  <input name="Gender" id="Gender-1" type="radio" checked = {this.state.gender} onChange = {()=>{this.setState({gender: !this.state.gender})}}/>
                  Female
                </label>
              </div>
            </div>
          </div>
          {/* Textarea */}
          <div className="form-group">
            <label className="col-md-4 control-label" htmlFor="textarea">About Yourself</label>
            <div className="col-md-6">
              <textarea className="form-control" id="textarea" name="textarea" placeholder="About Yourself in 500 words" value ={this.state.bio} onChange = {(event)=>{this.setState({bio: event.target.value.substr(0,500)})}}/>
            </div>
          </div>
          <div className="form-group required">
            <label htmlFor="password-input" className="col-md-4 control-label">Password <sup>*</sup></label>
            <div className="col-md-6">
              <input type="password" className="form-control" id="password-input" placeholder="Password" value ={this.state.password} onChange = {(event)=>{this.setState({password: event.target.value.substr(0,25)})}}/>
            </div>
          </div>
          <div className="form-group required">
            <label htmlFor="password-confirmation-input" className="col-md-4 control-label">Password Confirmation <sup>*</sup></label>
            <div className="col-md-6">
              <input type="password" className="form-control" id="password-confirmation-input" placeholder="Password" value ={this.state.passwordConfirmation} onChange = {(event)=>{this.setState({passwordConfirmation: event.target.value.substr(0,25)})}}/>
            </div>
          </div>
          <div className="form-group">
            <label className="col-md-4 control-label" />
            <div className="col-md-8">
              <div className="termbox mb10">
                <label className="checkbox-inline" htmlFor="checkboxes-1">
                  <input name="checkboxes" id="checkboxes-1" checked = {this.state.readTermsConditions} type="checkbox" onChange = {()=>{this.setState({readTermsConditions: !this.state.readTermsConditions})}}/>
                  I have read and agree to the <a href="terms-conditions.html">Terms
                    &amp; Conditions</a> </label>
              </div>
              <div style={{clear: 'both'}} />
              <a disabled={!this.state.readTermsConditions} className="btn btn-primary" onClick = {this._registerUser.bind(this)}>Register</a></div>
          </div>
        </fieldset>
      </form>
    )
  }
}
ReactDOM.render(
  <SignUpForm />,
  document.getElementById('sign-up-form')

)

</script>
</body>
</html>
